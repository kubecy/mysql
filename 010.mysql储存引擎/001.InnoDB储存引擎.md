# InnoDB储存引擎

## 1.数据库存储引擎概念

1. 概念：数据库存储引擎是数据库管理系统（DBMS）中负责数据存储、检索和管理的组件。不同的存储引擎提供不同的功能、性能特性和支持的事务模型。
2. 种类：
   - InnoDB：支持事务、行级锁、外键，具有崩溃恢复能力。高并发、数据一致性要求高的应用。
   - MyISAM：不支持事务，仅支持表级锁，性能较高，适合读操作。以读取为主的应用，数据完整性要求不高。
   - Memory：数据存储在内存中，速度快，数据在重启后丢失。临时数据或缓存，快速查询。
   - CSV：将数据存储为 CSV 文件，便于数据交换。需要与其他系统交换数据的场景。
3. 在实际场景中，99.9%都是使用innodb存储引擎，并且在最新版8.0数据库中，所有mysql数据库中的表对应的引擎也都改为了innodb。

~~~sql
mysql> show engines;
~~~

![image-20241019150658971](./000.picture/image-20241019150658971.png)

## 2.InnoDB存储引擎核心特性

1. InnoDB架构图
2. https://dev.mysql.com/doc/refman/8.0/en/innodb-architecture.html

![image-20241019150913466](./000.picture/image-20241019150913466.png)

>1. 事务支持
>   - **ACID 特性**：InnoDB 支持原子性、一致性、隔离性和持久性（ACID），确保数据的完整性。
>   - **自动提交**：默认情况下，InnoDB 以自动提交模式运行，但可以显式使用事务块。
>2. 行级锁
>   - InnoDB 提供行级锁，而不是表级锁，提高了并发性能，允许多个事务同时更新不同的行而不发生冲突。
>3. 外键支持
>   - 支持外键约束，确保数据之间的参照完整性，使得可以定义表之间的关系。
>4. MVCC（多版本并发控制）
>   - 使用多版本并发控制来提供非阻塞读，提高并发性能，允许读操作不阻塞写操作。
>5. 自适应哈希索引
>   - InnoDB 可以在内存中自动创建哈希索引，以加速常见的查询，提高性能。
>6. 崩溃恢复
>   - InnoDB 具有自动崩溃恢复机制，通过重做日志（redo log）和撤销日志（undo log）确保数据在系统崩溃后的完整性。

